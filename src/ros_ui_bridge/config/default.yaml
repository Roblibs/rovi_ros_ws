grpc:
  bind: "0.0.0.0:50051"

ros:
  tf_demux:
    enabled: true
    prefix: "/viz/tf"

streams:
  status:
    period_s: 3
    stale_after_s: 7
    debug_log: false
    always_publish: false
    fields:
      - id: "cpu"
        unit: "%"
        min: 0
        max: 100
        source:
          provider: "system"
          type: "cpu_percent"

      - id: "voltage"
        unit: "V"
        min: 9.0
        max: 12.6
        source:
          provider: "ros"
          type: "topic_value"
          topic: "/voltage"
          msg_type: "std_msgs/msg/Float32"
          value_key: "data"

      - id: "hz_driver"
        unit: "Hz"
        target: 10
        source:
          provider: "ros"
          type: "topic_rate"
          topic: "/voltage"
          msg_type: "std_msgs/msg/Float32"

      - id: "hz_odom"
        unit: "Hz"
        target: 10
        source:
          provider: "ros"
          type: "topic_rate"
          topic: "/odom_raw"
          msg_type: "nav_msgs/msg/Odometry"

      - id: "hz_lidar"
        unit: "Hz"
        target: 10
        source:
          provider: "ros"
          type: "topic_rate"
          topic: "/scan"
          msg_type: "sensor_msgs/msg/LaserScan"

      - id: "hz_color"
        unit: "Hz"
        source:
          provider: "ros"
          type: "topic_rate"
          topic: "/camera/color/image_raw"
          msg_type: "sensor_msgs/msg/Image"

      - id: "hz_depth"
        unit: "Hz"
        source:
          provider: "ros"
          type: "topic_rate"
          topic: "/camera/depth/image_raw"
          msg_type: "sensor_msgs/msg/Image"

      - id: "hz_slam"
        unit: "Hz"
        target: 50
        source:
          provider: "ros"
          type: "tf_rate"
          parent: "map"
          child: "odom"

  robot_state:
    #downsampling_rate_hz: 1.0
    odom_topic: "/odom_raw"
    joint_states_topic: "/joint_states"
    odom_frame: "odom"
    base_frame: "base_footprint"
    map_frame: "map"
    map_tf_max_age_s: 1.0
    wheel_joint_names:
      - "front_left_joint"
      - "front_right_joint"
      - "back_left_joint"
      - "back_right_joint"

  lidar:
    #downsampling_rate_hz: 2.0
    topic: "/scan"
    output_topic: "/viz/scan"  # Throttled scan for RViz
    frame_id: "laser_link"

  map:
    downsampling_rate_hz: 0.5
    topic: "/map"

robot_model:
  # Path to a pre-generated GLB (binary glTF). Examples:
  # - absolute: /path/to/robot.glb
  # - package URI: package://rovi_description/models/rovi.glb
  #
  # A sidecar meta file is required for GetRobotModelMeta at: <glb_path>.meta.json
  glb_path: "package://rovi_description/models/rovi.glb"
  chunk_size_bytes: 1048576
